<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <title>計算機実習 I - 第七回 - ポインタの基礎</title>
  <meta name="generator" content="amaya 9.5, see http://www.w3.org/Amaya/" />
  <link href="../../stylesheets/slide-screen.css" rel="stylesheet"
  type="text/css" media="screen" />
  <link href="../../stylesheets/slide-proj.css" rel="stylesheet"
  type="text/css" media="projection" />
  <link href="../../stylesheets/slide-print.css" rel="stylesheet"
  type="text/css" media="print" />
  <style type="text/css">
  </style>
</head>

<body>
<h1 style="text-align: center">計<acronym></acronym>算機実習 I</h1>

<h2 style="text-align: center">第七回 (2006年 6月 1日)</h2>

<h2 style="text-align: center">ポインタの基礎</h2>

<p class="letterhead"><a href="http://www.aoyama.ac.jp/"><img alt="AGU"
src="../../stylesheets/aoyamalogo.jpg" /></a></p>

<p class="signature">© 2006 <a href="mailto:duerst@it.aoyama.ac.jp">Martin
J. Dürst</a> <a href="http://www.aoyama.ac.jp/">青山学院大学</a></p>

<h1>ポインタの用途</h1>
<ul>
  <li>低レベルのアドレス操作 (デバイス割り当てなど)</li>
  <li>動的メモリの管理</li>
  <li>配列の処理の効率化</li>
  <li>参照 (関数への渡しなど)</li>
  <li>間接 (indirection)</li>
</ul>

<h1>メモリの仕組み</h1>
<ul>
  <li>コンピュータでの (メイン)
    メモリはすごく大きなバイトの配列</li>
  <li>メモリの番地はアドレスと言う</li>
  <li>番地・アドレスは普通十六進数で表す数字</li>
  <li>ポインタはそのアドレスが入った変数</li>
</ul>

<h1>メモリの仕組みを調べる</h1>
<ul>
  <li>ポインタは <code>printf</code> の <code>%p</code>
    で出力できる</li>
  <li>あるプログラムの色んなもののアドレスを出力すると<a
    href="メモリ配置表.xls">メモリ配置表</a>が作れる</li>
  <li><a href="exercises/memory.c">サンプルのプログラム</a></li>
</ul>

<h1>ポインタの演算 (1)</h1>
<ul>
  <li>アドレス演算子 <code>&amp;</code> (単項)<br />
    ある変数のアドレスを取って、例えばポインタに納める</li>
  <li>間接演算子 <code>*</code> (単項)<br />
    ポインタからそのポインタが指すものを見つける</li>
</ul>

<h1>ポインタの型</h1>
<ul>
  <li>ポインタは他の型 (整数、関数、構造体など) と別</li>
  <li>ポインタ型には指す型が含まれている
    <ul>
      <li>例: <code>int</code> のポインタ、<code>double</code>
        のポインタ、<code>char</code> のポインタ</li>
    </ul>
  </li>
  <li>それによって、<code>*</code>
  演算子の結果の型が分かる</li>
  <li>それによって、ある程度の指し違いを防ぐことが出来る</li>
</ul>

<h1>ポインタの演算 (2)</h1>
<ul>
  <li>ポインタに整数を足引できる
    <ul>
      <li>足し算、引き算 (<code>p+5</code>, <code>p-3</code>,...)</li>
      <li>代入足し算、代入引き算 (<code>p += 7</code>,...)</li>
      <li>インクリメント、デクリメント (<code>p++</code>,
        <code>p--</code>)</li>
    </ul>
  </li>
  <li>整数 1
    でポインタはポインタが指す型のサイズ一個分ずらされる</li>
  <li>(同型の)
    二つのポインタの引き算ができる。結果は整数。</li>
</ul>

<h1>配列とポインタ</h1>
<ul>
  <li>配列は、C の場合最初の位置しか記憶されない</li>
  <li>配列には同じ型の物が順番に並んでいる</li>
  <li>配列とポインタは非常に似ている</li>
</ul>

<p>実際、C の場合には配列とポインタは殆ど同じ</p>

<p><a
href="exercises/memory2.c">配列とポインタのメモリ配置の実例</a></p>

<h1>次回の準備</h1>
<ul>
  <li>今日の復習</li>
  <li>参考書の第 11 章 (ポインタ、pp. 282-311)
    をもう一回よく読む。分かるところをリストアップする。</li>
</ul>
</body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>プログラミング基礎 II:
  プログラムの構成と作成手順、文字列の出力</title>
  <meta name="generator" content="amaya 9.0, see http://www.w3.org/Amaya/" />
  <link href="../../stylesheets/bert-proj.css" rel="stylesheet"
  type="text/css" media="projection" />
  <link href="../../stylesheets/slide-screen.css" rel="stylesheet"
  type="text/css" media="screen" />
  <link href="../../stylesheets/slide-proj.css" rel="stylesheet"
  type="text/css" media="projection" />
  <link href="../../stylesheets/slide-print.css" rel="stylesheet"
  type="text/css" media="print" />
  <style type="text/css">
  </style>
</head>

<body>
<h1 style="text-align: center">プログラミング基礎 II</h1>

<h2 style="text-align: center">第二回:
プログラムの構成と作成手順、<br />
文字列の出力</h2>

<h3 style="text-align: center">Martin J. Dürst</h3>

<p style="text-align: center"><a
href="mailto:duerst@it.aoyama.ac.jp">duerst@it.aoyama.ac.jp</a></p>

<p style="text-align: center">O 棟 529号室</p>

<p style="text-align: center">テュールスト マーティン ヤコブ</p>

<p style="text-align: center"><a
href="http://www.sw.it.aoyama.ac.jp/2005/Programming%20Basics%20II/lecture2.html">http://www.sw.it.aoyama.ac.jp/2005/Programming%20Basics%20II/lecture2.html</a></p>

<p class="letterhead"><a href="http://www.aoyama.ac.jp/"><img alt="AGU"
src="../../stylesheets/aoyamalogo.jpg" /></a></p>

<p class="signature">© 2005 <a href="mailto:duerst@it.aoyama.ac.jp">Martin
J. Dürst</a> <a href="http://www.aoyama.ac.jp/">青山学院大学</a></p>

<h1>今週の目的</h1>
<ul>
  <li>簡単なプログラムの構成を理解する</li>
  <li>プログラムを実行する手順を理解する</li>
</ul>

<h1>プログラムの作成: 手順</h1>
<ul>
  <li>プログラム用のフォルダを用意</li>
  <li>プログラムを書く</li>
  <li>プログラムをコンパイルする</li>
  <li>プログラムを修正する</li>
  <li>プログラムを実行する</li>
</ul>

<h1>フォルダとファイルの見方</h1>

<p>フォルダ
(ディレクトリともいう)、ファイルの見方は三通り:</p>
<ul>
  <li>マイ
    コンピュータなどをクリックして開かれるエクスプローラ</li>
  <li>スタートメニューから選ぶコマンド プロンプト</li>
  <li>プログラムの内部から「名前を付けて保存」を選ぶ時</li>
</ul>

<h1>コマンド プロンプトの使い方</h1>
<ul>
  <li>コマンド プロンプトは Windows
  に一行の命令をする所</li>
  <li>現在いるフォルダはその行の先頭に表示される</li>
  <li>行の先頭は「<code>&gt;</code>」で終わる。これは「ここから入力して下さい」の印</li>
  <li>一行の「<code>&gt;</code>」の右にはカーソルキーで移動したり、文字を消したり、追加したりが可能</li>
  <li>「Enter」キーを押すと入力したコマンドが実行される</li>
  <li>カーソルキーの「↑」と「↓」で以前使用した命令を呼び戻し、(変更して)
    再実行できる</li>
  <li>命令は述語 (動詞)
    が先頭で、その後目的語などを書く</li>
</ul>

<h1>コマンドプロンプトの簡単な命令</h1>
<ul>
  <li><code>cd フォルダ名</code>: 「change
    directory」でフォルダへ移動</li>
  <li><code>cd ..</code>: 上のフォルダへ移動</li>
  <li><code>dir</code>: フォルダの内容をリストアップ</li>
  <li><code>mkdir フォルダ名</code>: 新しいフォルダを作る</li>
</ul>

<h1>超簡単なプログラムの例</h1>
<pre>#include &lt;stdio.h&gt;

int main (void) {
    printf("Hello World!");

    return 0;
}</pre>

<h1>プログラムの基本的な部分の説明: <code>#include</code></h1>

<p>多くの C のプログラムの頭に</p>

<p><code>#include &lt;stdio.h&gt;</code></p>

<p>の一行がある。これは:</p>
<ul>
  <li>「stdio.h」というファイルの読み込みによって</li>
  <li>プログラムの残りの部分で標準入出力
    (<strong>st</strong>an<strong>d</strong>ard <strong>i</strong>nput
    <strong>o</strong>utput) の機能が使える</li>
</ul>

<p>標準入出力を使わない場合は必要ない。他の (標準)
機能が必要な場合には別の <code>#include</code> も必要</p>

<h1><code>main</code> 関数の定義</h1>
<ul>
  <li>C のプログラムの実行は <code>main</code>
  関数から始まる</li>
  <li><code>main</code> は次のように書く:
    <pre>int main (void) {
    プログラム本体
}</pre>
  </li>
  <li>関数本体は「<code>{</code>」から「<code>}</code>」までである。その間のプログラムは読みやすさのために字下げをする。</li>
  <li><code>main</code>
    の後の「<code>(</code>」と「<code>)</code>」は <code>main</code>
    が関数であることを示す</li>
  <li><code>int</code> と <code>void</code>
    は今のところ気にしなくて良い</li>
</ul>

<h1><code>printf</code> 関数の呼び出し</h1>
<ul>
  <li><code>printf</code>
    関数は標準入出力の一部で、機能が豊富でよく使われる関数</li>
  <li>「<code>(</code>」と「<code>)</code>」は関数 (の呼び出し)
    であることを示し、関数に渡すもの (引数)
  を囲む。</li>
  <li>「<code>"</code>」(二重引用符) は文字列 (の定数)
  を囲む</li>
  <li><code>printf</code> に文字列を渡すとその文字列が
    (画面などに) 出力される</li>
</ul>

<h1><code>return</code> 文</h1>
<ul>
  <li><code>main</code> 関数の最後に <code>return 0;</code>
  を書く</li>
  <li>これでゼロが返される</li>
  <li>これでプログラムが無事終了したことを伝える</li>
  <li>ゼロ以外の値を返すと「何か問題があった」という意味</li>
  <li>文の全ての終わりに「<code>;</code>」が必要</li>
</ul>

<h1>エディタのインストール</h1>

<p>(MS Windows 用; 他の OS の場合には相談してください)</p>

<p>推薦: <a
href="http://www.flos-freeware.ch/notepad2.html"><code>notepad2</code></a>
(<a
href="http://www.flos-freeware.ch/notepad2.html">http://www.flos-freeware.ch/notepad2.html</a>)<br
/>
<a href="http://www.flos-freeware.ch/np2intl/notepad2_ja.zip">日本語</a>:
<a
href="http://www.flos-freeware.ch/np2intl/notepad2_ja.zip">http://www.flos-freeware.ch/np2intl/notepad2_ja.zip</a></p>

<p>(現在日本語が使いにくい;
メモ帳や他のテクストエディタで代行)</p>

<h1>コンパイラのインストール</h1>
<ul>
  <li>Visual C++: 大学でインストール可能</li>
  <li>gcc (cygwin でインストール: <a
    href="http://mailhost.sw.it.aoyama.ac.jp/system/flex_bison/cygwin_download.html">ダウンロード</a>,
    <a
    href="http://mailhost.sw.it.aoyama.ac.jp/system/flex_bison/cygwin_install.html">インストール</a>:
    Select Packages という画面で gcc
    関連のものを選択・確認する)</li>
</ul>

<h1>プログラムの作成: 手順</h1>
<ul>
  <li>プログラム用のフォルダを用意</li>
  <li>プログラムを書く</li>
  <li>プログラムをコンパイルする</li>
  <li>プログラムを修正する</li>
  <li>プログラムを実行する</li>
</ul>

<h1><var></var>コンパイラの役割</h1>
<ul>
  <li>人間が書くC
    のプログラムはコンピュータには直接には分からない</li>
  <li>コンパイラは C
    のプログラムをオブジェクトファイル
    (ほぼ実行可能なプログラムの一部) や実行可能な
    <code>.exe</code> ファイルに変更する</li>
  <li>オブジェクトファイルとライブラリをつなぐのはリンカである</li>
  <li>コンパイラは C
    のプログラムが正しいかどうかをチェックして、間違いの場合にはエラーメッセージを出す</li>
  <li>エラー以外も色々チェックして、必要に応じて警告を出す</li>
</ul>

<h1>コンパイラの使い方</h1>
<ul>
  <li><code>gcc プログラム名.c</code>:
    プログラムをコンパイルする。実行可能なプログラムの名前は
    「<code>a.exe</code>」になる</li>
  <li><code>gcc -o 実行名 プログラム名.c</code>:
    同上で、実行可能なプログラムの名前は
    「<code>実行名.exe</code>」になる</li>
  <li>(Visual C++ の場合): <code>cl プログラム名.c</code>:
    同上で、実行可能なプログラムの名前は「<code>プログラム名.exe</code>」になる</li>
  <li><code>a</code> や <code>実行名</code> や
    <code>プログラム名</code>: プログラムの実行
    (<code>.exe</code> は不要)</li>
</ul>

<h1>超簡単なプログラムの進化</h1>
<ul>
  <li>複数回 <code>printf</code> を呼び出す
    <pre>printf ("Hello World!");
printf ("Hello Everybody!");</pre>
  </li>
  <li>文字列定数に改行を追加で改行の出力:
    <pre><code>printf ("Hello World!\nHello Everybody!\n");</code></pre>
  </li>
  <li>何か出力すると改行で終わるのが普通。そうすると次の出力は行頭から始まる。</li>
  <li>コメントの追加</li>
</ul>

<h1><code>\</code> と <code>¥</code> の話し</h1>
<ul>
  <li>"<code>\</code>" (backslash, reverse solidus)
    は日本語のシステムでよく"<code>¥</code>" (yen sign)
    と見える</li>
  <li>7bit/8bit 文字コードの時代からの残り物</li>
  <li>Unicode の場合には別文字:
    <ul>
      <li>U+005C REVERSE SOLIDUS</li>
      <li>U+00A5 YEN SIGN</li>
    </ul>
  </li>
  <li>対策:
    <ul>
      <li>文法的に使う "<code>¥</code>" を頭の中で
        "<code>\</code>" に置き換える</li>
      <li>「円」等の意味で使う場合にはできるだけ U+00A5
        や全角の <code>¥</code> を使う</li>
    </ul>
  </li>
</ul>

<h1><code>\</code> の使い方</h1>

<p>文字列定数の中に特殊文字を使いたい場合には
<code>\</code> (<code>¥</code>) を使う:</p>
<ul>
  <li><code>\n</code>: 改行 (new line)</li>
  <li><code>\t</code>: タブ (tab)</li>
  <li><code>\"</code>: 「<code>"</code>」 そのもの</li>
  <li><code>\\</code>: 「<code>\</code>」 そのもの</li>
</ul>

<h1>次回のための準備</h1>
<ul>
  <li>自分のパソコンにソフトをインストールする</li>
  <li>第五章 (pp. 52-68) をよく読む</li>
  <li>宿題: 沢山の <code>printf</code>
    を使って面白い文書・模様を出力するプログラムを作ってください:
    <ul>
      <li>コメントを入れて作成者やプログラムの働きを書いて下さい。</li>
      <li>タブ、改行、二重引用符など特殊文字も出力して下さい。</li>
      <li>字下げを守って下さい。</li>
    </ul>
  </li>
</ul>

<p></p>
</body>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>情報数学 I: 2 進数とビット毎演算</title>
  <meta name="generator" content="amaya 9.0, see http://www.w3.org/Amaya/" />
  <link href="../../stylesheets/bert-proj.css" rel="stylesheet"
  type="text/css" media="projection" />
  <link href="../../stylesheets/slide-screen.css" rel="stylesheet"
  type="text/css" media="screen" />
  <link href="../../stylesheets/slide-proj.css" rel="stylesheet"
  type="text/css" media="projection" />
  <link href="../../stylesheets/slide-print.css" rel="stylesheet"
  type="text/css" media="print" />
  <style type="text/css">
  </style>
</head>

<body>
<h1 style="text-align: center">情報数学 I</h1>

<h2 style="text-align: center">第十回: 2 進数とビット毎演算</h2>

<h3 style="text-align: center">Martin J. Dürst</h3>

<p style="text-align: center"><a
href="mailto:duerst@it.aoyama.ac.jp">duerst@it.aoyama.ac.jp</a></p>

<p style="text-align: center">O 棟 529号室</p>

<p style="text-align: center">テュールスト マーティン ヤコブ</p>

<p style="text-align: center"><a
href="http://www.sw.it.aoyama.ac.jp/2005/Math I/lecture10.html">http://www.sw.it.aoyama.ac.jp/2005/Math%20I/lecture10.html</a></p>

<p class="letterhead"><a href="http://www.aoyama.ac.jp/"><img alt="AGU"
src="../../stylesheets/aoyamalogo.jpg" /></a></p>

<p class="signature">© 2005 <a href="mailto:duerst@it.aoyama.ac.jp">Martin
J. Dürst</a> <a href="http://www.aoyama.ac.jp/">青山学院大学</a></p>

<h1>数の表現: 10進法</h1>

<p>205 = 2×10<sup>2</sup> + 0×10<sup>1</sup> + 5×10<sup>0</sup></p>

<p>34.56 = 3×10<sup>1</sup> + 4×10<sup>0</sup> + 5×10<sup>-1</sup> +
6×10<sup>-2</sup></p>

<h1>数の表現: 2進法</h1>

<p>1010011 = 1×2<sup>6</sup> + 0×2<sup>5</sup> + 1×2<sup>4</sup> +
0×2<sup>3</sup> + 0×2<sup>2</sup> + 1×2<sup>1</sup> + 1×2<sup>0</sup>
=</p>

<h1>数の表現: 16進法</h1>

<p>1AF = 1×16<sup>2</sup> +A×16<sup>1</sup> +F×16<sup>0</sup> =</p>

<table border="1">
  <caption>16真数の桁の値</caption>
  <tbody>
    <tr>
      <td>桁 (大文字)</td>
      <td>桁 (小文字)</td>
      <td>値 (10進数で)</td>
    </tr>
    <tr>
      <td>A</td>
      <td>a</td>
      <td>10</td>
    </tr>
    <tr>
      <td>B</td>
      <td>b</td>
      <td>11</td>
    </tr>
    <tr>
      <td>C</td>
      <td>c</td>
      <td>12</td>
    </tr>
    <tr>
      <td>D</td>
      <td>d</td>
      <td>13</td>
    </tr>
    <tr>
      <td>E</td>
      <td>e</td>
      <td>14</td>
    </tr>
    <tr>
      <td>F</td>
      <td>f</td>
      <td>15</td>
    </tr>
  </tbody>
</table>

<h1>2 の何乗</h1>

<table border="1">
  <tbody>
    <tr>
      <td><var>n</var></td>
      <td>2<sup><var>n</var></sup></td>
      <td>16 進数</td>
    </tr>
    <tr>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td>1</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <td>2</td>
      <td>4</td>
      <td>4</td>
    </tr>
    <tr>
      <td>3</td>
      <td>8</td>
      <td>8</td>
    </tr>
    <tr>
      <td>4</td>
      <td>16</td>
      <td>10</td>
    </tr>
    <tr>
      <td>5</td>
      <td>32</td>
      <td>20</td>
    </tr>
    <tr>
      <td>6</td>
      <td>64</td>
      <td>40</td>
    </tr>
    <tr>
      <td>7</td>
      <td>128</td>
      <td>80</td>
    </tr>
    <tr>
      <td>8</td>
      <td>256</td>
      <td>100</td>
    </tr>
    <tr>
      <td>9</td>
      <td>512</td>
      <td>200</td>
    </tr>
    <tr>
      <td>10</td>
      <td>1024 ≈10<sup>3</sup> (kilo)</td>
      <td>400</td>
    </tr>
    <tr>
      <td>11</td>
      <td>2048</td>
      <td>800</td>
    </tr>
    <tr>
      <td>12</td>
      <td>4096</td>
      <td>1000</td>
    </tr>
    <tr>
      <td>16</td>
      <td>65536</td>
      <td>10000</td>
    </tr>
    <tr>
      <td>20</td>
      <td>1048576 ≈ 10<sup>6</sup> (mega)</td>
      <td>100000</td>
    </tr>
    <tr>
      <td>30</td>
      <td>1073741824 ≈ 10<sup>9</sup> (giga)</td>
      <td>40000000</td>
    </tr>
    <tr>
      <td>40</td>
      <td>1099511627776 ≈ 10<sup>12</sup> (tera)</td>
      <td>10000000000</td>
    </tr>
  </tbody>
</table>

<h1>基数変換</h1>

<p><var>n</var> 進数から 10 進数:
それぞれの桁の値と桁の重みの積の和</p>

<p>10 進数から <var>n</var> 進数:</p>

<p>23 = 11×2<sup>1</sup> + 1×2<sup>0</sup> = 5×2<sup>2</sup> +
1×2<sup>1</sup> + 1×2<sup>0</sup> = 2×2<sup>3</sup> + 1×2<sup>2</sup> +
1×2<sup>1</sup> + 1×2<sup>0</sup> = 1×2<sup>4</sup> + 0×2<sup>3</sup> +
1×2<sup>2</sup> + 1×2<sup>1</sup> + 1×2<sup>0</sup> = 10111</p>

<table border="1">
  <tbody>
    <tr>
      <th>基</th>
      <th>商</th>
      <th>余り</th>
      <th style="text-align: right">結果の回の桁</th>
    </tr>
    <tr>
      <td>23</td>
      <td>11</td>
      <td>1</td>
      <td style="text-align: right">1</td>
    </tr>
    <tr>
      <td>11</td>
      <td>5</td>
      <td>1</td>
      <td style="text-align: right">11</td>
    </tr>
    <tr>
      <td>5</td>
      <td>2</td>
      <td>1</td>
      <td style="text-align: right">111</td>
    </tr>
    <tr>
      <td>2</td>
      <td>1</td>
      <td>0</td>
      <td style="text-align: right">0111</td>
    </tr>
    <tr>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td style="text-align: right">10111</td>
    </tr>
  </tbody>
</table>

<p>変換したい数を最初の商にして、繰り返し商を
<var>n</var> で割って、余りを最下位の桁にする</p>

<p><var>n</var> 進数から <var>m</var> 進数:</p>
<ul>
  <li>10 進数経由で変換</li>
  <li><var>n</var> が <var>m</var> の何乗 (もしくは逆)
    の場合、桁を組み合わせて、組み毎に変換</li>
</ul>

<h1>情報テクノロジーでよく使う基数</h1>

<table border="1">
  <tbody>
    <tr>
      <td>基数</td>
      <td>英語と略 (形容詞)</td>
      <td>用途、使用理由</td>
    </tr>
    <tr>
      <td>2</td>
      <td>binary, bin</td>
      <td>論理と回路の基本</td>
    </tr>
    <tr>
      <td>8</td>
      <td>octal, oct</td>
      <td>2 進数の短縮、最近使用が少ない</td>
    </tr>
    <tr>
      <td>10</td>
      <td>decimal, dec</td>
      <td>人間用</td>
    </tr>
    <tr>
      <td>16</td>
      <td>hexadecimal, hex</td>
      <td>2 進数の短縮、1 バイト (8 ビット) を2
        桁で表現可能</td>
    </tr>
  </tbody>
</table>

<h1>冗談の宿題</h1>

<p>Q: Why do computer scientist always think Christmas and Halloween are the
same ?</p>

<p>質問:
なぜで情報テクノロジーの専門家はクリスマスとハロウィーンをいつも誤解するか。</p>

<h2>もう一つの冗談</h2>

<p>質問: 情報テクノロジーで還暦は何歳か。</p>

<h1>2 進数と 16 進数の対応</h1>

<table border="1">
  <tbody>
    <tr>
      <th>10</th>
      <th>2</th>
      <th>8</th>
      <th>16</th>
    </tr>
    <tr>
      <td>0</td>
      <td>0000</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <td>1</td>
      <td>0001</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td>2</td>
      <td>0010</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <td>3</td>
      <td>0011</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <td>4</td>
      <td>0100</td>
      <td>4</td>
      <td>4</td>
    </tr>
    <tr>
      <td>5</td>
      <td>0101</td>
      <td>5</td>
      <td>5</td>
    </tr>
    <tr>
      <td>6</td>
      <td>0110</td>
      <td>6</td>
      <td>6</td>
    </tr>
    <tr>
      <td>7</td>
      <td>0111</td>
      <td>7</td>
      <td>7</td>
    </tr>
    <tr>
      <td>8</td>
      <td>1000</td>
      <td>10</td>
      <td>8</td>
    </tr>
    <tr>
      <td>9</td>
      <td>1001</td>
      <td>11</td>
      <td>9</td>
    </tr>
    <tr>
      <td>10</td>
      <td>1010</td>
      <td>12</td>
      <td>A</td>
    </tr>
    <tr>
      <td>11</td>
      <td>1011</td>
      <td>13</td>
      <td>B</td>
    </tr>
    <tr>
      <td>12</td>
      <td>1100</td>
      <td>14</td>
      <td>C</td>
    </tr>
    <tr>
      <td>13</td>
      <td>1101</td>
      <td>15</td>
      <td>D</td>
    </tr>
    <tr>
      <td>14</td>
      <td>1110</td>
      <td>16</td>
      <td>E</td>
    </tr>
    <tr>
      <td>15</td>
      <td>1111</td>
      <td>17</td>
      <td>F</td>
    </tr>
    <tr>
      <td>16</td>
      <td>10000</td>
      <td>20</td>
      <td>10</td>
    </tr>
  </tbody>
</table>

<h1>よく使われるビット毎演算</h1>

<p>データ型によって 8 ビット (1 バイト)、16 ビット、32
ビット、64 ビット</p>
<ul>
  <li>かつ、ビット AND 演算: 多くのプログラム言語で
    <code>&amp;</code> と書く</li>
  <li>又は、ビット OR 演算: 多くのプログラム言語で
    <code>|</code> と書く</li>
  <li>排他的論理和、ビット XOR 演算:
    多くのプログラム言語で <code>^</code> と書く</li>
</ul>

<p>ビット毎演算の用途:</p>
<ul>
  <li>集合の表現と演算</li>
  <li>性質の記述とチェック</li>
  <li>データの細かい操作
    (例えばデータ変換やデータ圧縮など)</li>
</ul>

<h1>他のビット演算</h1>
<ul>
  <li>左シフト:
    <ul>
      <li>多くのプログラム言語で <code>&lt;&lt;</code>
      と書く。</li>
      <li><code>b &lt;&lt; n</code> では <code>b</code>
        のビットをそれぞれ <code>n</code>
        個左にすらじ、右から 0
        で埋める。一番左のビットは消える。</li>
      <li>オーバフローがない場合 <code>b &lt;&lt; n</code> は
        <var>b</var> ×2<sup><var>n</var></sup> と同じ。</li>
    </ul>
  </li>
  <li>右シフト:
    <ul>
      <li>多くのプログラム言語で <code>&gt;&gt;</code>
      と書く。</li>
      <li><code>b &gt;&gt; n</code> では <code>b</code>
        のビットをそれぞれ <code>n</code>
        個右にすらす。左から0で埋めるか最上位のビットを複写するのかはプログラム言語・データ型・実装による。一番右のビットは消える。</li>
      <li>左から 0 で埋める場合 <code>b &gt;&gt; n</code> は
        <var>b</var> / 2<sup><var>n</var></sup> と同じ。</li>
    </ul>
  </li>
</ul>

<h1>ビット演算で足し算</h1>

<table border="1">
  <caption>一桁の足し算</caption>
  <tbody>
    <tr style="text-align: right">
      <th></th>
      <th>0</th>
      <th>1</th>
    </tr>
    <tr style="text-align: right">
      <th>0</th>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr style="text-align: right">
      <th>1</th>
      <td>1</td>
      <td><sup>1</sup>0</td>
    </tr>
  </tbody>
</table>
</body>
</html>
